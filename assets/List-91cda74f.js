import{_ as te,g as _,r as le,h as ae,i as oe,a as E,b as i,j as se,o as C,c as F,e as n,d as e,w as t,f as s,t as z,u as p,n as ne,k as ie,l as G,m as H,p as k,q as pe,s as de,v as re}from"./index-823c221e.js";const S=V=>(de("data-v-d4e2072b"),V=V(),re(),V),ue={class:"boxs",style:{position:"relative"}},_e={class:"box"},ce=S(()=>n("span",{style:{color:"#999","font-size":"14px"}},"商品管理",-1)),me=S(()=>n("span",{style:{margin:"0 10px",color:"#999"}},"/",-1)),fe=S(()=>n("span",{style:{"font-weight":"600"}}," 商品列表",-1)),ge={style:{display:"flex","align-items":"center","font-weight":"600","margin-bottom":"20px"}},he={style:{"padding-top":"16px","border-top":"1px solid rgb(230, 237, 239)"}},xe={class:"demo-input-size"},ve={class:"demo-input-size ipo"},ye={style:{display:"flex","align-items":"center","justify-content":"space-between","font-weight":"600",width:"100%"}},be={class:"s1"},we=["src"],ze={style:{"font-size":"12px","margin-right":"45px","box-sizing":"border-box"}},ke=S(()=>n("br",null,null,-1)),Ve={style:{display:"flex","justify-content":"center"}},Ce={style:{display:"flex","justify-content":"center","align-items":"center"}},Se={style:{display:"flex","align-items":"center","margin-top":"30px","font-size":"12px"}},Ue={__name:"List",setup(V){const J=_(!0);let g=_(""),m=_(""),h=_(""),x=_(""),v=_(""),I=()=>{g.value="",m.value="",h.value="",x.value="",v.value="",M()},d=le({current_page:1,last_page:0,per_page:0,total:0}),w=_([]),f=_(!1),K=()=>{A(0)},y=_(1),O=l=>{y.value=l,A(1)};ae(()=>{M()});let U=_("");oe(()=>m.value,()=>{E.post("/line/getuser").then(l=>{let o=l.data.r.find(u=>m.value==u.shop);o?U.value=o:U.value=""})});let A=l=>{f.value=!0,l||(y.value=1,console.log("111111111111111111")),E.post("/line/triplist",{is_recommend:+v.value,mode:"",page:y.value,status:"",title:g.value,u_id:U.value.u_id,mode:+h.value,status:+x.value,date:"",day:""}).then(o=>{f.value=!1,d.current_page=o.data.m.current_page,d.last_page=o.data.m.last_page,d.per_page=o.data.m.per_page,d.total=o.data.m.total,w.value=o.data.m.data,console.log(w.value),L()})};function L(){w.value.forEach((l,o)=>{l.shop||(l.shop="平台自营"),l.u_name||(l.u_name="管理员"),l.idss=o+1,l.status==2?l.status="已上架":l.status="已下架",l.status=="已上架"?l.color="rgb(25,190,107)":l.color="rgb(255,153,0)"})}function M(){y.value=1,f.value=!0,console.log("Axios"),E.post("/line/triplist",{title:"",mode:"",status:"",is_recommend:"",u_id:"",page:y.value}).then(l=>{f.value=!1,console.log(l),w.value=l.data.m.data,f.value=!1,d.current_page=l.data.m.current_page,d.last_page=l.data.m.last_page,d.per_page=l.data.m.per_page,d.total=l.data.m.total,L()}).catch(l=>{console.log(l)})}return(l,o)=>{const u=i("el-button"),P=i("router-link"),N=i("el-card"),j=i("el-col"),Q=i("Expand"),B=i("el-icon"),q=i("el-input"),b=i("el-option"),D=i("el-select"),W=i("MagicStick"),X=i("Umbrella"),r=i("el-table-column"),R=i("el-tooltip"),c=i("el-dropdown-item"),Y=i("el-dropdown-menu"),Z=i("el-dropdown"),T=i("el-table"),$=i("el-pagination"),ee=se("loading");return C(),F("div",ue,[n("div",_e,[e(j,null,{default:t(()=>[e(N,{shadow:"never",style:{border:"none",position:"relative"}},{default:t(()=>[ce,me,fe,e(P,{to:{name:"Nb"}},{default:t(()=>[e(u,{type:"primary",style:{position:"absolute",right:"0"}},{default:t(()=>[s("+新建商品")]),_:1})]),_:1})]),_:1})]),_:1}),e(j,{style:{"margin-top":"20px"}},{default:t(()=>[e(N,{shadow:"hover"},{default:t(()=>[n("div",ge,[e(B,{style:{"margin-right":"5px"}},{default:t(()=>[e(Q)]),_:1}),s(" 商品查询 ")]),n("div",he,[n("div",xe,[e(q,{style:{"font-size":"12px","margin-bottom":"30px"},modelValue:p(g),"onUpdate:modelValue":o[0]||(o[0]=a=>k(g)?g.value=a:g=a),class:"w-50 m-2",placeholder:"商品标题"},null,8,["modelValue"]),e(q,{style:{"font-size":"12px","margin-bottom":"30px"},modelValue:p(m),"onUpdate:modelValue":o[1]||(o[1]=a=>k(m)?m.value=a:m=a),class:"w-50 m-2",placeholder:"请输入商品名称"},null,8,["modelValue"]),e(D,{modelValue:p(h),"onUpdate:modelValue":o[2]||(o[2]=a=>k(h)?h.value=a:h=a),placeholder:"商家模式",style:{"font-size":"12px",width:"100%"}},{default:t(()=>[e(b,{label:"线上核销",value:"1"}),e(b,{label:"线下物流",value:"2"})]),_:1},8,["modelValue"]),e(D,{modelValue:p(x),"onUpdate:modelValue":o[3]||(o[3]=a=>k(x)?x.value=a:x=a),placeholder:"商品状态",style:{"font-size":"12px",width:"100%"}},{default:t(()=>[e(b,{label:"上架",value:"2"}),e(b,{label:"下架",value:"3"})]),_:1},8,["modelValue"])]),n("div",ve,[e(D,{modelValue:p(v),"onUpdate:modelValue":o[4]||(o[4]=a=>k(v)?v.value=a:v=a),placeholder:"是否推荐",style:{"font-size":"12px",width:"100%"}},{default:t(()=>[e(b,{label:"是",value:"1"}),e(b,{label:"否",value:"2"})]),_:1},8,["modelValue"]),e(u,{type:"primary",style:{"margin-bottom":"29px"},onClick:p(K)},{default:t(()=>[s("查询")]),_:1},8,["onClick"]),n("span",{onClick:o[5]||(o[5]=(...a)=>p(I)&&p(I)(...a)),style:{"font-size":"12px",position:"relative",top:"-13px",left:"30px",cursor:"pointer"},class:"sp1"}," 清空搜索条件 ")])])]),_:1})]),_:1}),e(j,{style:{"margin-top":"30px"}},{default:t(()=>[e(N,{shadow:"hover"},{default:t(()=>[n("div",ye,[n("div",null,[e(B,{style:{"margin-right":"5px"}},{default:t(()=>[e(W)]),_:1}),s(" 商品列表 ")]),e(u,{type:"primary",size:"small"},{default:t(()=>[e(B,null,{default:t(()=>[e(X)]),_:1}),s("导出商品")]),_:1})]),e(T,{data:p(w),border:"",style:{width:"100%","margin-top":"20px"}},{default:t(()=>[e(r,{prop:"idss",label:"#",align:"center",width:"43"}),e(r,{prop:"",label:"名称",width:"388"},{default:t(a=>[n("div",be,[n("img",{src:a.row.topimg,style:{margin:"5px",width:"60px",height:"60px"}},null,8,we),n("span",ze,z(a.row.title),1),e(u,{type:"primary",style:{position:"absolute",right:"0",width:"38px",height:"22px","font-size":"12px"}},{default:t(()=>[s("预览")]),_:1})])]),_:1}),e(r,{prop:"shop",align:"center",label:"所属商家"}),e(r,{prop:"u_name",label:"编辑员",align:"center"}),e(r,{prop:"original_price",label:"参考价(元)",align:"center"},{default:t(a=>[n("span",null,[s("原价: "+z(a.row.original_price)+" ",1),ke,s("现价："+z(a.row.present_price),1)])]),_:1}),e(r,{prop:"ordercount",label:"订单数量",align:"center"}),e(r,{prop:"name",label:"状态",align:"center"},{default:t(a=>[n("div",Ve,[n("div",{style:pe(["background-color: "+a.row.color,{color:"#fff",width:"52px",padding:"0 8px","font-size":"12px","border-radius":"4px",cursor:"pointer"}])},z(a.row.status),5)])]),_:1}),e(r,{fixed:"right",prop:"",label:"操作",align:"center",width:"260"},{default:t(a=>[n("div",Ce,[e(R,{class:"box-item",effect:"dark",content:"编辑",placement:"bottom","show-after":"1",size:"small"},{default:t(()=>[e(u,{type:"primary",size:"small",style:{"font-size":"12px",color:"white",width:"32px",height:"19px"}},{default:t(()=>[s("✎")]),_:1})]),_:1}),a.row.type===4?(C(),G(R,{key:0,class:"box-item",effect:"dark",content:"价格日历",placement:"bottom","show-after":"1",size:"small"},{default:t(()=>[e(u,{type:"primary",size:"small",style:{"font-size":"12px",color:"white",margin:"5px",width:"32px",height:"19px"}},{default:t(()=>[s("📅")]),_:1})]),_:1})):H("",!0),e(u,{class:"mas",type:"primary",size:"small",style:{"margin-right":"5px"}},{default:t(()=>[s("二维码背景")]),_:1}),e(Z,{"hide-on-click":!1},{dropdown:t(()=>[e(Y,null,{default:t(()=>[e(c,null,{default:t(()=>[s("下架")]),_:1}),e(c,null,{default:t(()=>[s("复制产品")]),_:1}),e(c,null,{default:t(()=>[s("设置权重")]),_:1}),e(c,null,{default:t(()=>[s("设置站点")]),_:1}),e(c,null,{default:t(()=>[s("分配编辑")]),_:1}),e(c,null,{default:t(()=>[s("分配商家")]),_:1}),e(c,null,{default:t(()=>[s("分配核销员")]),_:1}),e(c,null,{default:t(()=>[s("删除")]),_:1})]),_:1})]),default:t(()=>[e(u,{type:"primary",size:"small",style:{"font-size":"12px",color:"white",width:"29px",height:"19px"}},{default:t(()=>[s("▼")]),_:1})]),_:1})])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),n("div",Se,[s(" 共"+z(p(d).total)+"条",1),e($,{layout:"prev, pager, next",total:p(d).total,"page-size":p(d).per_page,class:"mt-4",onCurrentChange:p(O),"current-page":p(y)},null,8,["total","page-size","onCurrentChange","current-page"])])]),p(f)?(C(),F("div",{key:0,class:ne(["back",{backs:!p(f)}])},[ie((C(),G(T,{style:{width:"100%","margin-bottom":"200px"}},{default:t(()=>[e(r,{prop:"date",label:"Date",width:"180"}),e(r,{prop:"name",label:"Name",width:"180"}),e(r,{prop:"address",label:"Address"})]),_:1})),[[ee,J.value]])],2)):H("",!0)])}}},je=te(Ue,[["__scopeId","data-v-d4e2072b"]]);export{je as default};
